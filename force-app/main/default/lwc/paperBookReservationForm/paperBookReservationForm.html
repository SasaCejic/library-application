<template>
    <section>
        <header class="slds-modal__header">
            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Create a Book Reservation</h2>
        </header>
        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
            <template lwc:if = {objectFields}>
                <lightning-record-edit-form 
                    object-api-name = "Book_Reservation__c"
                    onsuccess = {showSuccessMessage}
                    onerror = {onErrorHandler}
                    onsubmit = {onSubmitHandler}
                >
                    <template for:each = {objectFields} for:item = "field">
                        <template lwc:if = {field.canBeDisabled}>
                            <template lwc:if = {recordId}>
                                <lightning-input-field key = {field.apiName} field-name = {field.apiName} disabled = "true" value = {recordId}></lightning-input-field>
                            </template>
                            <template lwc:else>
                                <lightning-input-field key = {field.apiName} field-name = {field.apiName}></lightning-input-field>
                            </template>
                        </template>
                        <template lwc:else>
                            <lightning-input-field key = {field.apiName} field-name = {field.apiName}></lightning-input-field>
                        </template>
                    </template>
                    <div class = "slds-align_absolute-center">
                    <lightning-button
                        class = "slds-m-right_x-small"
                        type="cancel"
                        name="cancel"
                        label="Cancel"
                        onclick = {closeForm}
                    >
                    </lightning-button>
                    <lightning-button
                        class="slds-m-left_x-small"
                        variant="brand"
                        type="submit"
                        name="reserve"
                        label="Reserve"
                    >
                    </lightning-button>
                    </div>
                </lightning-record-edit-form>
            </template>
        </div>
    </section>
</template>